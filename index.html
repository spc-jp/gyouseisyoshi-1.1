<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>è¡Œæ”¿æ›¸å£«ã®ãŸã‚ã®AIã²ãªå½¢</title>
    <!-- ãƒ•ã‚©ãƒ³ãƒˆèª­ã¿è¾¼ã¿ -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;700&family=Noto+Serif+JP:wght@600;700;900&display=swap" rel="stylesheet">
    
    <style>
        :root {
            /* è¡Œæ”¿æ›¸å£«ç‰ˆã‚«ãƒ©ãƒ¼è¨­å®š */
            --primary-color: #1F4ED8; /* ã‚¿ã‚¤ãƒˆãƒ«ã‚«ãƒ©ãƒ¼ */
            --primary-gradient: linear-gradient(135deg, #1F4ED8 0%, #2563EB 100%);
            
            --gold-accent: #C5A059; /* é«˜ç´šæ„Ÿç¶­æŒã®ãŸã‚ã®ã‚´ãƒ¼ãƒ«ãƒ‰ï¼ˆè¦‹å‡ºã—ä¸‹ç·šç­‰ï¼‰ */
            
            --accent-color: #38BDF8; /* ã‚¢ã‚¯ã‚»ãƒ³ãƒˆã‚«ãƒ©ãƒ¼ */
            --accent-gradient: linear-gradient(135deg, #38BDF8 0%, #0EA5E9 100%);
            
            --bg-color: #F8F9FA;
            --card-bg: #FFFFFF;
            --text-main: #1A1A1A;
            --text-sub: #5F6368;
            --border-color: #E0E0E0;
            --input-bg: #FFFFFF;
            --input-border: #DADCE0;
            --danger-bg: #FEF7E0;
            --danger-text: #B08800;
            --modal-overlay: rgba(31, 78, 216, 0.15); /* ãƒ†ãƒ¼ãƒè‰²ã«åˆã‚ã›ãŸè–„ã„ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ */
            --shadow-sm: 0 2px 4px rgba(0,0,0,0.05);
            --shadow-card: 0 8px 24px rgba(0,0,0,0.08);
            --shadow-float: 0 16px 32px rgba(0,0,0,0.12);
            --radius: 16px;
            --radius-sm: 10px;
            --spacing-unit: 20px;
        }

        /* ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰ä¸Šæ›¸ã */
        [data-theme="dark"] {
            --primary-color: #60A5FA;
            --primary-gradient: linear-gradient(135deg, #60A5FA 0%, #93C5FD 100%);
            --gold-accent: #E8C476;
            --accent-color: #38BDF8;
            --accent-gradient: linear-gradient(135deg, #38BDF8 0%, #7DD3FC 100%);
            
            --bg-color: #121212;
            --card-bg: #1E1E1E;
            --text-main: #E8EAED;
            --text-sub: #9AA0A6;
            --border-color: #3C4043;
            --input-bg: #28292A;
            --input-border: #3C4043;
            --danger-bg: #3C3200;
            --danger-text: #FDD835;
            --shadow-card: 0 8px 24px rgba(0,0,0,0.4);
        }

        @media (prefers-color-scheme: dark) {
            :root:not([data-theme="light"]) {
                --primary-color: #60A5FA;
                --primary-gradient: linear-gradient(135deg, #60A5FA 0%, #93C5FD 100%);
                --gold-accent: #E8C476;
                --accent-color: #38BDF8;
                --accent-gradient: linear-gradient(135deg, #38BDF8 0%, #7DD3FC 100%);
                
                --bg-color: #121212;
                --card-bg: #1E1E1E;
                --text-main: #E8EAED;
                --text-sub: #9AA0A6;
                --border-color: #3C4043;
                --input-bg: #28292A;
                --input-border: #3C4043;
                --danger-bg: #3C3200;
                --danger-text: #FDD835;
                --shadow-card: 0 8px 24px rgba(0,0,0,0.4);
            }
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            font-family: 'Noto Sans JP', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-main);
            line-height: 1.6;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        .container {
            max-width: 600px;
            margin: 0 auto;
            padding: var(--spacing-unit);
            width: 100%;
            flex: 1;
            display: flex;
            flex-direction: column;
            position: relative;
        }

        /* ãƒ˜ãƒƒãƒ€ãƒ¼ãƒ‡ã‚¶ã‚¤ãƒ³åˆ·æ–° */
        header {
            padding: 60px 10px 30px;
            text-align: center;
            position: relative;
        }

        /* ã‚¢ãƒ—ãƒªåï¼šãƒ‡ã‚¶ã‚¤ãƒ³å¼·åŒ– */
        h1 {
            font-family: 'Noto Serif JP', serif;
            font-size: 28px;
            font-weight: 900;
            color: var(--text-main);
            letter-spacing: 0.08em;
            margin: 0;
            background: var(--primary-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            color: #1F4ED8; /* fallback color */
            text-shadow: 0 2px 4px rgba(0,0,0,0.05);
            position: relative;
            display: inline-block;
        }
        
        h1::after {
            content: '';
            display: block;
            width: 40px;
            height: 3px;
            background: var(--gold-accent);
            margin: 12px auto 0;
            border-radius: 2px;
        }

        [data-theme="dark"] h1 {
            background: none;
            -webkit-text-fill-color: initial;
            color: #FFFFFF;
            text-shadow: 0 2px 4px rgba(0,0,0,0.5);
        }
        @media (prefers-color-scheme: dark) {
            :root:not([data-theme="light"]) h1 {
                background: none;
                -webkit-text-fill-color: initial;
                color: #FFFFFF;
                text-shadow: 0 2px 4px rgba(0,0,0,0.5);
            }
        }

        /* è¨­å®šãƒœã‚¿ãƒ³ä½ç½®å¤‰æ›´ï¼šå³ä¸Šã«ç‹¬ç«‹ã•ã›ã‚‹ */
        .settings-btn {
            position: absolute;
            right: 16px;
            top: 16px;
            transform: none;
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: var(--text-sub);
            padding: 8px;
            opacity: 0.6;
            transition: opacity 0.2s, transform 0.2s;
            z-index: 10;
        }
        .settings-btn:hover {
            opacity: 1;
            transform: rotate(30deg);
        }

        .subtitle {
            font-family: 'Noto Sans JP', sans-serif;
            font-size: 14px;
            color: var(--text-sub);
            margin-top: 20px;
            margin-bottom: 24px;
            font-weight: 500;
            line-height: 1.8;
            letter-spacing: 0.02em;
        }

        .usage-link {
            display: inline-block;
            font-size: 12px;
            color: var(--text-sub);
            background: transparent;
            border: 1px solid var(--border-color);
            padding: 6px 16px;
            border-radius: 20px;
            text-decoration: none;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.2s;
        }
        .usage-link:hover {
            border-color: var(--accent-color);
            color: var(--text-main);
        }

        /* ã‚«ãƒ¼ãƒ‰ã‚°ãƒªãƒƒãƒ‰ */
        .grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 40px;
        }

        .card {
            background: var(--card-bg);
            border-radius: var(--radius);
            padding: 24px 16px;
            box-shadow: var(--shadow-card);
            cursor: pointer;
            transition: transform 0.2s cubic-bezier(0.25, 0.8, 0.25, 1), box-shadow 0.2s;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            height: 160px;
            border: 1px solid transparent;
            position: relative;
            overflow: hidden;
        }

        .card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: var(--accent-gradient);
            opacity: 0.8;
        }

        .card:active { transform: scale(0.96); box-shadow: var(--shadow-sm); }
        .card:hover {
            border-color: rgba(56, 189, 248, 0.3); /* ã‚¢ã‚¯ã‚»ãƒ³ãƒˆã‚«ãƒ©ãƒ¼ã®è–„ã„è‰² */
            box-shadow: var(--shadow-float);
        }

        .card-icon {
            font-size: 38px;
            margin-bottom: 16px;
            filter: drop-shadow(0 4px 6px rgba(0,0,0,0.1));
        }

        .card-title {
            font-weight: 700;
            font-size: 15px;
            line-height: 1.5;
            color: var(--text-main);
            letter-spacing: 0.02em;
        }

        /* é­”æ³•ã®ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚»ã‚¯ã‚·ãƒ§ãƒ³ */
        .magic-section {
            margin-top: 10px;
            margin-bottom: 40px;
        }

        .magic-title {
            font-family: 'Noto Serif JP', serif;
            font-size: 19px;
            font-weight: 900;
            color: var(--text-main);
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            letter-spacing: 0.05em;
        }
        
        .magic-title::before {
            content: 'âœ¦';
            color: var(--gold-accent);
            margin-right: 8px;
            font-size: 20px;
        }

        .magic-title span {
            font-family: 'Noto Sans JP', sans-serif;
            font-size: 11px;
            font-weight: 500;
            color: var(--text-sub);
            margin-left: 12px;
            background: rgba(0,0,0,0.04);
            padding: 3px 8px;
            border-radius: 4px;
            letter-spacing: 0.05em;
        }

        .tool-group {
            background: var(--card-bg);
            border-radius: var(--radius);
            margin-bottom: 16px;
            box-shadow: var(--shadow-sm);
            overflow: hidden;
            border: 1px solid var(--border-color);
            transition: box-shadow 0.2s;
        }

        .tool-group:hover {
            box-shadow: var(--shadow-card);
        }

        .tool-summary {
            padding: 18px 20px;
            cursor: pointer;
            font-weight: 700;
            font-size: 16px;
            color: var(--text-main);
            display: flex;
            align-items: center;
            justify-content: space-between;
            list-style: none;
            background: linear-gradient(to right, var(--card-bg), rgba(0,0,0,0.01));
        }
        
        .tool-summary::-webkit-details-marker { display: none; }

        .tool-icon { margin-right: 12px; font-size: 20px; }
        
        .tool-role {
            font-size: 11px;
            font-weight: 600;
            color: var(--text-sub);
            background: var(--input-bg);
            padding: 4px 10px;
            border-radius: 20px;
            margin-left: auto;
            margin-right: 12px;
            letter-spacing: 0.05em;
        }

        .arrow-icon {
            font-size: 12px;
            color: var(--text-sub);
            transition: transform 0.2s;
        }

        details[open] .arrow-icon { transform: rotate(180deg); }

        .prompt-list {
            padding: 0 20px 20px;
            background: var(--card-bg);
            border-top: 1px solid var(--border-color);
        }

        .prompt-item {
            display: flex;
            flex-direction: column;
            padding: 16px 0;
            border-bottom: 1px dashed var(--border-color);
        }

        .prompt-item:last-child { border-bottom: none; padding-bottom: 0; }
        .prompt-item:first-child { padding-top: 20px; }

        .prompt-label {
            font-size: 14px;
            font-weight: 700;
            color: var(--text-main);
            margin-bottom: 8px;
            display: flex;
            align-items: center;
        }
        
        .prompt-label::before {
            content: 'â—';
            color: var(--accent-color);
            font-size: 8px;
            margin-right: 8px;
        }

        .prompt-content {
            font-size: 13px;
            color: var(--text-sub);
            background: var(--input-bg);
            padding: 14px;
            border-radius: 8px;
            margin-bottom: 10px;
            line-height: 1.7;
            white-space: pre-wrap;
            border: 1px solid transparent;
        }

        .prompt-copy-btn {
            align-self: flex-end;
            background: transparent;
            border: 1px solid var(--border-color);
            color: var(--accent-color);
            font-size: 12px;
            font-weight: 600;
            padding: 6px 14px;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
        }

        .prompt-copy-btn::before {
            content: "ğŸ“‹";
            font-size: 12px;
            margin-right: 4px;
        }

        .prompt-copy-btn:hover {
            background: var(--accent-color);
            color: #fff;
            border-color: var(--accent-color);
        }

        /* ã‚·ãƒ¼ãƒ³ç”»é¢ */
        .scene-view {
            display: none;
            flex-direction: column;
            height: 100%;
        }

        .nav-header {
            display: flex;
            align-items: center;
            margin-bottom: 24px;
            position: relative;
            padding-bottom: 16px;
            border-bottom: 1px solid var(--border-color);
        }

        .back-btn {
            background: none;
            border: none;
            color: var(--text-sub);
            font-size: 15px;
            font-weight: 700;
            padding: 8px 0;
            cursor: pointer;
            display: flex;
            align-items: center;
            transition: color 0.2s;
        }
        .back-btn:hover { color: var(--text-main); }
        .back-btn::before {
            content: "â€¹";
            font-size: 28px;
            margin-right: 4px;
            margin-top: -4px;
        }

        .scene-title {
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            font-family: 'Noto Serif JP', serif;
            font-weight: 900;
            font-size: 18px;
            color: var(--text-main);
            letter-spacing: 0.05em;
        }

        .form-group { margin-bottom: 24px; position: relative; }

        label {
            display: block;
            font-size: 14px;
            font-weight: 700;
            color: var(--text-sub);
            margin-bottom: 10px;
            letter-spacing: 0.02em;
        }

        textarea {
            width: 100%;
            height: 200px;
            padding: 16px;
            border-radius: var(--radius-sm);
            border: 1px solid var(--input-border);
            background: var(--input-bg);
            color: var(--text-main);
            font-size: 16px;
            font-family: inherit;
            resize: none;
            outline: none;
            appearance: none;
            transition: border-color 0.2s, box-shadow 0.2s;
            box-shadow: inset 0 2px 4px rgba(0,0,0,0.02);
            line-height: 1.8;
        }

        textarea::placeholder { color: #AAA; font-size: 14px; line-height: 1.7; }
        textarea:focus {
            border-color: var(--accent-color);
            box-shadow: 0 0 0 3px rgba(56, 189, 248, 0.1);
            background: var(--card-bg);
        }

        /* æ–‡å­—æ•°ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ */
        .char-counter {
            position: absolute;
            bottom: -22px;
            right: 4px;
            font-size: 11px;
            color: var(--text-sub);
            opacity: 0.8;
            font-family: 'Noto Sans JP', sans-serif;
        }

        select {
            width: 100%;
            padding: 14px;
            border-radius: var(--radius-sm);
            border: 1px solid var(--input-border);
            background: var(--card-bg);
            color: var(--text-main);
            font-size: 16px;
            font-family: inherit;
            appearance: none;
            background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%235c6c7b' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e");
            background-repeat: no-repeat;
            background-position: right 16px center;
            background-size: 16px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.02);
        }

        .warning-box {
            background-color: var(--danger-bg);
            color: var(--danger-text);
            padding: 16px;
            border-radius: var(--radius-sm);
            font-size: 13px;
            display: flex;
            align-items: flex-start;
            margin-bottom: 20px;
            display: none;
            animation: fadeIn 0.3s ease;
            border-left: 4px solid var(--danger-text);
        }
        .warning-icon { margin-right: 12px; font-size: 18px; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(-5px); } to { opacity: 1; transform: translateY(0); } }

        .btn {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 100%;
            padding: 16px;
            border-radius: 50px;
            border: none;
            font-size: 16px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.2s;
            margin-bottom: 16px;
            letter-spacing: 0.05em;
        }
        .btn:active { transform: scale(0.98); }

        .btn-primary {
            background: var(--primary-gradient);
            color: #fff;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }
        .btn-primary:hover { box-shadow: 0 6px 20px rgba(0, 0, 0, 0.25); filter: brightness(1.1); }

        .btn-secondary {
            background: var(--card-bg);
            color: var(--text-main);
            border: 1px solid var(--border-color);
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }
        .btn-secondary:hover { background: var(--bg-color); }
        
        .btn-clear {
            background: none;
            border: none;
            color: var(--text-sub);
            font-size: 13px;
            box-shadow: none;
            padding: 8px;
            margin-top: 4px;
            text-decoration: none;
            opacity: 0.7;
        }
        .btn-clear:hover { opacity: 1; }

        .result-area {
            margin-top: 32px;
            display: none;
            border-top: 1px solid var(--border-color);
            padding-top: 32px;
        }

        .result-box {
            background: var(--input-bg);
            padding: 24px;
            border-radius: var(--radius-sm);
            font-size: 14px;
            margin-bottom: 24px;
            white-space: pre-wrap;
            border: 1px solid var(--border-color);
            max-height: 400px;
            overflow-y: auto;
            line-height: 1.8;
            color: var(--text-main);
            box-shadow: inset 0 2px 6px rgba(0,0,0,0.03);
        }

        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--modal-overlay);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 200;
            padding: 20px;
            opacity: 0;
            transition: opacity 0.2s;
            backdrop-filter: blur(8px);
        }
        .modal-overlay.open { display: flex; opacity: 1; }

        .modal-content {
            background: var(--card-bg);
            width: 100%;
            max-width: 500px;
            border-radius: var(--radius);
            padding: 32px 28px;
            position: relative;
            box-shadow: var(--shadow-float);
            max-height: 85vh;
            overflow-y: auto;
        }

        .modal-close {
            position: absolute;
            top: 16px;
            right: 16px;
            font-size: 28px;
            background: none;
            border: none;
            color: var(--text-sub);
            cursor: pointer;
            padding: 4px;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: background 0.2s;
        }
        .modal-close:hover { background: var(--bg-color); }

        .modal-title {
            font-family: 'Noto Serif JP', serif;
            font-size: 20px;
            font-weight: 900;
            margin-bottom: 24px;
            color: var(--text-main);
            border-bottom: 1px solid var(--border-color);
            padding-bottom: 12px;
            letter-spacing: 0.05em;
        }

        .modal-section { margin-bottom: 32px; }

        .modal-h3 {
            font-size: 15px;
            font-weight: 700;
            margin-bottom: 12px;
            color: var(--text-main);
            display: flex;
            align-items: center;
            letter-spacing: 0.05em;
        }
        .modal-h3::before {
            content: '';
            display: inline-block;
            width: 4px;
            height: 16px;
            background: var(--gold-accent);
            margin-right: 10px;
            border-radius: 2px;
        }

        .modal-text {
            font-size: 14px;
            color: var(--text-main);
            margin-bottom: 8px;
            line-height: 1.8;
        }

        .modal-list {
            padding-left: 0;
            list-style: none;
            font-size: 14px;
            color: var(--text-main);
            margin-bottom: 8px;
        }
        .modal-list li {
            margin-bottom: 12px;
            position: relative;
            padding-left: 20px;
            line-height: 1.8;
        }
        .modal-list li::before {
            content: "âœ”";
            color: var(--gold-accent);
            position: absolute;
            left: 0;
            top: 0;
            font-size: 12px;
        }

        .settings-row { margin-bottom: 24px; }

        .theme-select {
            width: 100%;
            padding: 12px;
            border-radius: var(--radius-sm);
            border: 1px solid var(--border-color);
            background: var(--input-bg);
            color: var(--text-main);
            font-size: 16px;
        }

        .settings-textarea {
            width: 100%;
            height: 80px;
            padding: 12px;
            border-radius: var(--radius-sm);
            border: 1px solid var(--border-color);
            background: var(--input-bg);
            color: var(--text-main);
            font-size: 14px;
            resize: none;
            margin-bottom: 4px;
            line-height: 1.6;
        }
        .settings-textarea:focus {
            border-color: var(--accent-color);
            outline: none;
        }
        .settings-note {
            font-size: 12px;
            color: var(--text-sub);
            margin-top: 6px;
            line-height: 1.5;
        }

        .demo-area {
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px dashed var(--border-color);
            text-align: center;
        }
        
        .demo-label {
            font-size: 12px;
            color: var(--text-sub);
            opacity: 0.8;
            margin-bottom: 12px;
            display: block;
            font-weight: 500;
        }

        .btn-demo {
            background: transparent;
            border: 1px solid var(--border-color);
            color: var(--text-sub);
            font-size: 12px;
            padding: 8px 16px;
            border-radius: 20px;
            cursor: pointer;
            margin: 0 4px;
            transition: all 0.2s;
        }
        .btn-demo:hover {
            background: var(--bg-color);
            border-color: var(--text-sub);
            color: var(--text-main);
        }

        /* ãƒˆãƒ¼ã‚¹ãƒˆé€šçŸ¥ */
        #toast {
            visibility: hidden;
            min-width: 250px;
            background: rgba(15, 32, 39, 0.98);
            color: #fff;
            text-align: center;
            border-radius: 50px;
            padding: 14px 24px;
            position: fixed;
            z-index: 300;
            left: 50%;
            bottom: 30px;
            transform: translateX(-50%) translateY(10px);
            font-size: 14px;
            font-weight: 500;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            opacity: 0;
            transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
            letter-spacing: 0.05em;
        }
        #toast.show {
            visibility: visible;
            opacity: 1;
            transform: translateX(-50%) translateY(0);
            bottom: 50px;
        }
    </style>
</head>
<body>

    <!-- ãƒˆãƒ¼ã‚¹ãƒˆé€šçŸ¥ -->
    <div id="toast">ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸ</div>

    <!-- ãƒ›ãƒ¼ãƒ ç”»é¢ -->
    <div id="home-view" class="container">
        <header>
            <button class="settings-btn" onclick="app.openSettings()">âš™ï¸</button>
            <h1>ğŸ—‚ï¸ è¡Œæ”¿æ›¸å£«ã®ãŸã‚ã®AIã²ãªå½¢</h1>
            <div class="subtitle">æ›¸é¡ã®å‰ã«ã€æµã‚Œã‚’æ•´ãˆã‚‹ã€‚</div>
            <div onclick="app.openUsage()" class="usage-link">ä½¿ã„æ–¹ã‚’è¦‹ã‚‹</div>
        </header>

        <div class="grid">
            <div class="card" onclick="app.openScene('A')">
                <div class="card-icon">ğŸ“</div>
                <div class="card-title">ãƒ’ã‚¢ãƒªãƒ³ã‚°æ•´ç†<br>ã²ãªå½¢</div>
            </div>
            <div class="card" onclick="app.openScene('B')">
                <div class="card-icon">ğŸ—ï¸</div>
                <div class="card-title">æ›¸é¢æ§‹æˆ<br>ã²ãªå½¢</div>
            </div>
            <div class="card" onclick="app.openScene('C')">
                <div class="card-icon">ğŸ—£ï¸</div>
                <div class="card-title">ä¾é ¼è€…èª¬æ˜<br>ã²ãªå½¢</div>
            </div>
            <div class="card" onclick="app.openScene('D')">
                <div class="card-icon">ğŸ”’</div>
                <div class="card-title">åŒ¿ååŒ–<br>ã²ãªå½¢</div>
            </div>
        </div>

        <!-- é­”æ³•ã®ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
        <div class="magic-section">
            <div class="magic-title">AIåˆ¥ é­”æ³•ã®ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ <span>Copy & Paste</span></div>

            <!-- ChatGPT (ç§˜æ›¸) -->
            <details class="tool-group">
                <summary class="tool-summary">
                    <div style="display:flex; align-items:center;">
                        <span class="tool-icon">ğŸ¤–</span>
                        <span>ChatGPT</span>
                    </div>
                    <div style="display:flex; align-items:center;">
                        <span class="tool-role">ç§˜æ›¸å½¹</span>
                        <span class="arrow-icon">â–¼</span>
                    </div>
                </summary>
                <div class="prompt-list">
                    <div class="prompt-item">
                        <div class="prompt-label">æ¡ˆä»¶å—ä»»ã®ãŠæ–­ã‚Šãƒ¡ãƒ¼ãƒ«</div>
                        <div class="prompt-content">ä»¥ä¸‹ã®ä¾é ¼ã«ã¤ã„ã¦ã€è¡Œæ”¿æ›¸å£«ã¨ã—ã¦èª æ„ã‚’ç¤ºã—ã¤ã¤ã€å¤šå¿™ã¾ãŸã¯å°‚é–€å¤–ã§ã‚ã‚‹ã“ã¨ã‚’ç†ç”±ã«ã€è§’ã‚’ç«‹ã¦ãšã«æ–­ã‚‹ãƒ¡ãƒ¼ãƒ«æ–‡æ¡ˆã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚å°†æ¥çš„ãªé–¢ä¿‚æ€§ã¯ç¶­æŒã—ãŸã„ã§ã™ã€‚</div>
                        <button class="prompt-copy-btn" onclick="app.copyText(this)">ã‚³ãƒ”ãƒ¼</button>
                    </div>
                    <div class="prompt-item">
                        <div class="prompt-label">è¨±å¯å–å¾—ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ä½œæˆ</div>
                        <div class="prompt-content">ä»¥ä¸‹ã®è¨±èªå¯ç”³è«‹ï¼ˆä¾‹ï¼šå»ºè¨­æ¥­è¨±å¯ã€ãƒ“ã‚¶ç”³è«‹ï¼‰ã«ã¤ã„ã¦ã€ãƒ’ã‚¢ãƒªãƒ³ã‚°ã‹ã‚‰ç”³è«‹ã€å¯©æŸ»ã€è¨±å¯å–å¾—ã¾ã§ã®æ¨™æº–çš„ãªå·¥ç¨‹ã‚’æ´—ã„å‡ºã—ã€ä¾é ¼è€…ã«æç¤ºã™ã‚‹ãŸã‚ã®ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«è¡¨æ¡ˆã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚</div>
                        <button class="prompt-copy-btn" onclick="app.copyText(this)">ã‚³ãƒ”ãƒ¼</button>
                    </div>
                    <div class="prompt-item">
                        <div class="prompt-label">é›£è§£ãªæ‰‹å¼•ãã®è¦ç´„</div>
                        <div class="prompt-content">ã“ã®è¡Œæ”¿åºã®æ‰‹å¼•ãã®æ–‡ç« ã‚’ã€å°‚é–€çŸ¥è­˜ã®ãªã„ä¾é ¼è€…ã«ã‚‚ä¼ã‚ã‚‹ã‚ˆã†ã«ã€å™›ã¿ç •ã„ã¦è¦ç´„ã—ã¦ãã ã•ã„ã€‚ã€Œçµå±€ä½•ã‚’æº–å‚™ã™ã‚Œã°ã„ã„ã‹ã€ã«ç„¦ç‚¹ã‚’å½“ã¦ã¦ãã ã•ã„ã€‚</div>
                        <button class="prompt-copy-btn" onclick="app.copyText(this)">ã‚³ãƒ”ãƒ¼</button>
                    </div>
                    <div class="prompt-item">
                        <div class="prompt-label">ç¿»è¨³ï¼ˆå…¬æ–‡æ›¸ãƒ»è¨¼æ˜æ›¸ï¼‰</div>
                        <div class="prompt-content">ä»¥ä¸‹ã®æ—¥æœ¬èªã®è¨¼æ˜æ›¸è¨˜è¼‰äº‹é …ã‚’è‹±èªã«ç¿»è¨³ã—ã¦ãã ã•ã„ã€‚å…¥å›½ç®¡ç†å±€ã‚„æµ·å¤–æå‡ºç”¨ã«é©ã—ãŸã€å…¬çš„ãªãƒ‹ãƒ¥ã‚¢ãƒ³ã‚¹ï¼ˆFormal/Legal Englishï¼‰ã‚’ä½¿ç”¨ã—ã¦ãã ã•ã„ã€‚</div>
                        <button class="prompt-copy-btn" onclick="app.copyText(this)">ã‚³ãƒ”ãƒ¼</button>
                    </div>
                    <div class="prompt-item">
                        <div class="prompt-label">è£œæ­£æŒ‡ç¤ºã¸ã®å¯¾ç­–æ¤œè¨</div>
                        <div class="prompt-content">å½¹æ‰€ã‹ã‚‰ä»¥ä¸‹ã®è£œæ­£æŒ‡ç¤ºã‚’å—ã‘ã¾ã—ãŸã€‚ã“ã‚Œã«å¯¾å¿œã™ã‚‹ãŸã‚ã«ã€ã©ã®ã‚ˆã†ãªè¿½åŠ è³‡æ–™ã‚„èª¬æ˜æ›¸ï¼ˆç†ç”±æ›¸ï¼‰ã‚’æº–å‚™ã™ã¹ãã‹ã€è¤‡æ•°ã®é¸æŠè‚¢ã‚’ææ¡ˆã—ã¦ãã ã•ã„ã€‚</div>
                        <button class="prompt-copy-btn" onclick="app.copyText(this)">ã‚³ãƒ”ãƒ¼</button>
                    </div>
                </div>
            </details>

            <!-- Gemini (èª¿æŸ»å“¡) -->
            <details class="tool-group">
                <summary class="tool-summary">
                    <div style="display:flex; align-items:center;">
                        <span class="tool-icon">ğŸ’</span>
                        <span>Gemini</span>
                    </div>
                    <div style="display:flex; align-items:center;">
                        <span class="tool-role">èª¿æŸ»å“¡å½¹</span>
                        <span class="arrow-icon">â–¼</span>
                    </div>
                </summary>
                <div class="prompt-list">
                    <div class="prompt-item">
                        <div class="prompt-label">å»ºè¨­æ¥­æ³•ãƒ»å…¥ç®¡æ³•ã®æ”¹æ­£ç‚¹</div>
                        <div class="prompt-content">ç›´è¿‘ã®â—‹â—‹æ³•æ”¹æ­£ã«ãŠã‘ã‚‹ä¸»ãªå¤‰æ›´ç‚¹ã‚’ã€è¡Œæ”¿æ›¸å£«å®Ÿå‹™ï¼ˆç‰¹ã«ç”³è«‹æ¥­å‹™ï¼‰ã¸ã®å½±éŸ¿ã¨ã„ã†è¦³ç‚¹ã§ç®‡æ¡æ›¸ãã§ã¾ã¨ã‚ã¦ãã ã•ã„ã€‚å‡ºå…¸ã‚‚æ˜è¨˜ã—ã¦ãã ã•ã„ã€‚</div>
                        <button class="prompt-copy-btn" onclick="app.copyText(this)">ã‚³ãƒ”ãƒ¼</button>
                    </div>
                    <div class="prompt-item">
                        <div class="prompt-label">è‡ªæ²»ä½“ã®æ¡ä¾‹ãƒ»ãƒ­ãƒ¼ã‚«ãƒ«ãƒ«ãƒ¼ãƒ«èª¿æŸ»</div>
                        <div class="prompt-content">â—‹â—‹å¸‚ã«ãŠã‘ã‚‹æ°‘æ³Šï¼ˆã¾ãŸã¯é¢¨å–¶æ³•ã€è¾²è»¢ï¼‰ã«é–¢ã™ã‚‹ç‹¬è‡ªæ¡ä¾‹ã‚„ã€ä¸Šä¹—ã›è¦åˆ¶ã®æœ‰ç„¡ã«ã¤ã„ã¦èª¿æŸ»ã—ã€æ¦‚è¦ã‚’æ•™ãˆã¦ãã ã•ã„ã€‚</div>
                        <button class="prompt-copy-btn" onclick="app.copyText(this)">ã‚³ãƒ”ãƒ¼</button>
                    </div>
                    <div class="prompt-item">
                        <div class="prompt-label">è¡Œæ”¿ç”¨èªã®å®šç¾©ç¢ºèª</div>
                        <div class="prompt-content">ä»¥ä¸‹ã®è¡Œæ”¿ç”¨èªï¼ˆä¾‹ï¼šå°‚ä»»æŠ€è¡“è€…ã€çµŒå–¶æ¥­å‹™ã®ç®¡ç†è²¬ä»»è€…ï¼‰ã®æ³•çš„ãªå®šç¾©ã¨ã€å®Ÿå‹™ä¸Šã®è¦ä»¶ï¼ˆä½•ãŒã‚ã‚Œã°è¨¼æ˜ã§ãã‚‹ã‹ï¼‰ã‚’è¡¨å½¢å¼ã§æ•´ç†ã—ã¦ãã ã•ã„ã€‚</div>
                        <button class="prompt-copy-btn" onclick="app.copyText(this)">ã‚³ãƒ”ãƒ¼</button>
                    </div>
                    <div class="prompt-item">
                        <div class="prompt-label">æ–°è¦å‚å…¥åˆ†é‡ï¼ˆãƒ‰ãƒ­ãƒ¼ãƒ³ç­‰ï¼‰ã®èª¿æŸ»</div>
                        <div class="prompt-content">ãƒ‰ãƒ­ãƒ¼ãƒ³é£›è¡Œè¨±å¯ï¼ˆã¾ãŸã¯è£œåŠ©é‡‘ç”³è«‹ï¼‰æ¥­å‹™ã«ã¤ã„ã¦ã€ç¾åœ¨ã®å¸‚å ´ãƒ‹ãƒ¼ã‚ºã€ä¸»è¦ãªç”³è«‹åŒºåˆ†ã€ãŠã‚ˆã³è¡Œæ”¿æ›¸å£«ãŒä»‹å…¥ã§ãã‚‹æ¥­å‹™ç¯„å›²ã‚’èª¿æŸ»ã—ã¦ãã ã•ã„ã€‚</div>
                        <button class="prompt-copy-btn" onclick="app.copyText(this)">ã‚³ãƒ”ãƒ¼</button>
                    </div>
                    <div class="prompt-item">
                        <div class="prompt-label">è£æ±ºãƒ»å¯©æŸ»è«‹æ±‚ã®äº‹ä¾‹èª¿æŸ»</div>
                        <div class="prompt-content">â—‹â—‹ã®ä¸è¨±å¯å‡¦åˆ†ã«å¯¾ã™ã‚‹å¯©æŸ»è«‹æ±‚ã«ãŠã„ã¦ã€è£æ±ºã§å‡¦åˆ†ãŒå–ã‚Šæ¶ˆã•ã‚ŒãŸï¼ˆèªå®¹ã•ã‚ŒãŸï¼‰äº‹ä¾‹ãŒã‚ã‚‹ã‹èª¿æŸ»ã—ã€ãã®åˆ¤æ–­ã®ãƒã‚¤ãƒ³ãƒˆã‚’æ•™ãˆã¦ãã ã•ã„ã€‚</div>
                        <button class="prompt-copy-btn" onclick="app.copyText(this)">ã‚³ãƒ”ãƒ¼</button>
                    </div>
                </div>
            </details>

            <!-- NotebookLM (å›³æ›¸é¤¨) -->
            <details class="tool-group">
                <summary class="tool-summary">
                    <div style="display:flex; align-items:center;">
                        <span class="tool-icon">ğŸ“š</span>
                        <span>NotebookLM</span>
                    </div>
                    <div style="display:flex; align-items:center;">
                        <span class="tool-role">å›³æ›¸é¤¨å½¹</span>
                        <span class="arrow-icon">â–¼</span>
                    </div>
                </summary>
                <div class="prompt-list">
                    <div class="prompt-item">
                        <div class="prompt-label">å®šæ¬¾ãƒ»æ±ºç®—æ›¸ã®è¦ç‚¹æŠ½å‡º</div>
                        <div class="prompt-content">ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ãŸå®šæ¬¾ã¨ç›´è¿‘3æœŸã®æ±ºç®—æ›¸ã‹ã‚‰ã€äº‹æ¥­ç›®çš„ã€å½¹å“¡æ§‹æˆã€ãŠã‚ˆã³è²¡å‹™çŠ¶æ³ï¼ˆèµ¤å­—ã‹é»’å­—ã‹ã€ç´”è³‡ç”£é¡ï¼‰ã®æ¦‚è¦ã‚’æŠ½å‡ºã—ã¦ã¾ã¨ã‚ã¦ãã ã•ã„ã€‚</div>
                        <button class="prompt-copy-btn" onclick="app.copyText(this)">ã‚³ãƒ”ãƒ¼</button>
                    </div>
                    <div class="prompt-item">
                        <div class="prompt-label">ç”³è«‹æ›¸é¡é–“ã®æ•´åˆæ€§ãƒã‚§ãƒƒã‚¯</div>
                        <div class="prompt-content">ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ãŸç”³è«‹æ›¸ä¸€å¼ã®ä¸­ã§ã€ä½æ‰€ã€æ°åã€ç”Ÿå¹´æœˆæ—¥ãªã©ã®åŸºæœ¬æƒ…å ±ã‚„ã€æ•°å€¤ã®è¨˜è¼‰ã«é£Ÿã„é•ã„ï¼ˆä¸æ•´åˆï¼‰ãŒãªã„ã‹ãƒã‚§ãƒƒã‚¯ã—ã¦ãã ã•ã„ã€‚</div>
                        <button class="prompt-copy-btn" onclick="app.copyText(this)">ã‚³ãƒ”ãƒ¼</button>
                    </div>
                    <div class="prompt-item">
                        <div class="prompt-label">åœ¨ç•™ãƒ»è·å‹™çµŒæ­´ã®æ™‚ç³»åˆ—åŒ–</div>
                        <div class="prompt-content">è³‡æ–™ï¼ˆãƒ‘ã‚¹ãƒãƒ¼ãƒˆã‚³ãƒ”ãƒ¼ã‚„å±¥æ­´æ›¸ï¼‰ã«å«ã¾ã‚Œã‚‹æ—¥ä»˜ã‚’æŠ½å‡ºã—ã€å…¥å‡ºå›½æ­´ã¨è·å‹™çµŒæ­´ã‚’çµ±åˆã—ãŸæ™‚ç³»åˆ—è¡¨ã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚ç©ºç™½æœŸé–“ãŒãªã„ã‹ã‚‚ç¢ºèªã—ã¦ãã ã•ã„ã€‚</div>
                        <button class="prompt-copy-btn" onclick="app.copyText(this)">ã‚³ãƒ”ãƒ¼</button>
                    </div>
                    <div class="prompt-item">
                        <div class="prompt-label">å¥‘ç´„æ›¸ã®ä¸åˆ©æ¡é …ãƒã‚§ãƒƒã‚¯</div>
                        <div class="prompt-content">ã“ã®æ¥­å‹™å§”è¨—å¥‘ç´„æ›¸ã«ãŠã„ã¦ã€å—è¨—è€…ï¼ˆãƒ•ãƒªãƒ¼ãƒ©ãƒ³ã‚¹ç­‰ï¼‰ã«ã¨ã£ã¦è‘—ã—ãä¸åˆ©ãªæ¡é …ã‚„ã€ä¸‹è«‹æ³•ãƒ»ç‹¬ç¦æ³•ã«æŠµè§¦ã™ã‚‹æã‚Œã®ã‚ã‚‹ç®‡æ‰€ã‚’æŒ‡æ‘˜ã—ã¦ãã ã•ã„ã€‚</div>
                        <button class="prompt-copy-btn" onclick="app.copyText(this)">ã‚³ãƒ”ãƒ¼</button>
                    </div>
                    <div class="prompt-item">
                        <div class="prompt-label">ç†ç”±æ›¸ã®æ§‹æˆæ¡ˆå‡ºã—</div>
                        <div class="prompt-content">è³‡æ–™ã«ã‚ã‚‹äº‹æƒ…ï¼ˆé•åã®çµŒç·¯ã‚„åçœç‚¹ï¼‰ã‚’ã‚‚ã¨ã«ã€å…¥ç®¡ã«æå‡ºã™ã‚‹ã€Œç†ç”±æ›¸ã€ã®æ§‹æˆæ¡ˆã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚äººé“çš„ãªé…æ…®ã‚’æ±‚ã‚ã‚‹ãƒã‚¤ãƒ³ãƒˆã‚’å¼·èª¿ã—ã¦ãã ã•ã„ã€‚</div>
                        <button class="prompt-copy-btn" onclick="app.copyText(this)">ã‚³ãƒ”ãƒ¼</button>
                    </div>
                </div>
            </details>
        </div>
    </div>

    <!-- ã‚·ãƒ¼ãƒ³ç”»é¢ (å…±é€šãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ) -->
    <div id="scene-view" class="container scene-view">
        <div class="nav-header">
            <button class="back-btn" onclick="app.goHome()">æˆ»ã‚‹</button>
            <div class="scene-title" id="scene-title-text">ã‚·ãƒ¼ãƒ³å</div>
            <button class="settings-btn" onclick="app.openSettings()">âš™ï¸</button>
        </div>

        <div class="form-group">
            <label>å…¥åŠ›æ¬„ï¼ˆã“ã“ã«è²¼ã‚Šä»˜ã‘ï¼‰</label>
            <!-- spellcheck="false"ã‚’è¿½åŠ ã—ã¦èµ¤ç·šé˜²æ­¢ -->
            <textarea id="user-input" placeholder="" oninput="app.checkInput()" spellcheck="false"></textarea>
            <!-- æ–‡å­—æ•°ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼è¿½åŠ  -->
            <div id="char-count" class="char-counter">0æ–‡å­—</div>
        </div>

        <div id="warning-box" class="warning-box">
            <span class="warning-icon">âš ï¸</span>
            <!-- è­¦å‘Šãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤ºã‚¨ãƒªã‚¢ -->
            <div id="warning-msg"></div>
        </div>

        <div class="form-group" id="option-container">
            <div id="opt-B" class="opt-group" style="display:none;">
                <label>ä½œæˆç›®çš„</label>
                <select id="select-B">
                    <option value="ç”³è«‹æ›¸ãƒ»ç†ç”±æ›¸æ§‹æˆ">ç”³è«‹æ›¸ãƒ»ç†ç”±æ›¸æ§‹æˆæ¡ˆã¨ã—ã¦</option>
                    <option value="ãƒ¡ãƒ¢ãƒ»æ•´ç†">ãƒ¡ãƒ¢ã¨ã—ã¦æ•´ç†</option>
                </select>
            </div>
            <div id="opt-C" class="opt-group" style="display:none;">
                <label>æ–‡ç« ã®é•·ã•</label>
                <select id="select-C">
                    <option value="çŸ­ã‚">çŸ­ã‚ï¼ˆ200ã€œ300å­—ï¼‰</option>
                    <option value="æ™®é€š" selected>æ™®é€šï¼ˆ400ã€œ600å­—ï¼‰</option>
                    <option value="ä¸å¯§">ä¸å¯§ï¼ˆ800å­—å‰å¾Œãƒ»ä¾‹ãˆã‚ã‚Šï¼‰</option>
                </select>
            </div>
            <div id="opt-D" class="opt-group" style="display:none;">
                <label>åŒ¿ååŒ–ãƒ¬ãƒ™ãƒ«</label>
                <select id="select-D">
                    <option value="ä½">ä½ï¼ˆå€‹äººåãƒ»ä¼šç¤¾åã®ã¿ï¼‰</option>
                    <option value="ä¸­" selected>ä¸­ï¼ˆåœ°åãƒ»æ—¥æ™‚ã‚‚å«ã‚ã‚‹ï¼‰</option>
                    <option value="é«˜">é«˜ï¼ˆç‰¹å®šã•ã‚Œã†ã‚‹å½¹è·ç­‰ã‚‚ã¼ã‹ã™ï¼‰</option>
                </select>
            </div>
        </div>

        <button class="btn btn-primary" onclick="app.generate()">ç”Ÿæˆã™ã‚‹</button>

        <div id="result-area" class="result-area">
            <label>ç”Ÿæˆçµæœï¼ˆAIã¸ã®æŒ‡ç¤ºãƒ—ãƒ­ãƒ³ãƒ—ãƒˆï¼‰</label>
            <div class="result-box" id="result-text"></div>
            <!-- IDã‚’è¿½åŠ ã—ã¦JSã§æ“ä½œå¯èƒ½ã« -->
            <button id="copy-btn" class="btn btn-secondary" onclick="app.copyResult()">ã‚³ãƒ”ãƒ¼ã™ã‚‹</button>
            <button class="btn btn-clear" onclick="app.clearInput()">å…¥åŠ›ã‚’ã‚¯ãƒªã‚¢</button>
        </div>
    </div>

    <!-- ä½¿ã„æ–¹ãƒ¢ãƒ¼ãƒ€ãƒ« -->
    <div id="usage-modal" class="modal-overlay">
        <div class="modal-content">
            <button class="modal-close" onclick="app.closeModal('usage-modal')">Ã—</button>
            <div class="modal-title">ä½¿ã„æ–¹ãƒ»ç›®çš„</div>
            <div class="modal-section">
                <div class="modal-h3">ã‚¢ãƒ—ãƒªã®ç›®çš„</div>
                <p class="modal-text">è¡Œæ”¿æ›¸å£«æ¥­å‹™ã«ãŠã‘ã‚‹ã€ŒAIã¸ã®æŒ‡ç¤ºå‡ºã—ã€ã‚’åŠ¹ç‡åŒ–ãƒ»é«˜å“è³ªåŒ–ã™ã‚‹ãŸã‚ã®æ”¯æ´ãƒ„ãƒ¼ãƒ«ã§ã™ã€‚<br>æ€è€ƒã‚’å¦¨ã’ã‚‹ã“ã¨ãªããƒ¯ãƒ³ã‚¿ãƒƒãƒ—ã§ã€å®Ÿå‹™ã«å³ã—ãŸç²¾åº¦ã®é«˜ã„æŒ‡ç¤ºæ–‡ï¼ˆãƒ—ãƒ­ãƒ³ãƒ—ãƒˆï¼‰ã‚’ä½œæˆã§ãã¾ã™ã€‚</p>
            </div>
            <div class="modal-section">
                <div class="modal-h3">åˆ©ç”¨æ‰‹é †</div>
                <ul class="modal-list">
                    <li><strong>1. ã‚·ãƒ¼ãƒ³é¸æŠ</strong><br>ãƒ›ãƒ¼ãƒ ç”»é¢ã‹ã‚‰ã€ç›®çš„ã«åˆã£ãŸã‚·ãƒ¼ãƒ³ï¼ˆã‚«ãƒ¼ãƒ‰ï¼‰ã‚’é¸æŠã—ã¦ãã ã•ã„ã€‚</li>
                    <li><strong>2. æƒ…å ±å…¥åŠ›</strong><br>å…¥åŠ›æ¬„ã«ã€æ•´ç†ã—ãŸã„æ‰‹å…ƒã®ãƒ¡ãƒ¢ã‚„è³‡æ–™ã®ãƒ†ã‚­ã‚¹ãƒˆã‚’è²¼ã‚Šä»˜ã‘ã¾ã™ã€‚</li>
                    <li><strong>3. ç”Ÿæˆå®Ÿè¡Œ</strong><br>å¿…è¦ã«å¿œã˜ã¦ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’é¸æŠã—ã€Œç”Ÿæˆã™ã‚‹ã€ãƒœã‚¿ãƒ³ã‚’æŠ¼ã™ã¨ã€AIã¸ã®æœ€é©ãªæŒ‡ç¤ºæ–‡ãŒä½œæˆã•ã‚Œã¾ã™ã€‚</li>
                    <li><strong>4. æ´»ç”¨</strong><br>ãƒ›ãƒ¼ãƒ ä¸‹éƒ¨ã®ã€Œé­”æ³•ã®ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã€ã§ã¯ã€å®Ÿå‹™ã§é »å‡ºã™ã‚‹å®šå‹æ–‡ã‚’ãƒ¯ãƒ³ã‚¿ãƒƒãƒ—ã§ã‚³ãƒ”ãƒ¼ã—ã¦åˆ©ç”¨ã§ãã¾ã™ã€‚</li>
                </ul>
            </div>
            <div class="modal-section">
                <div class="modal-h3">æ³¨æ„äº‹é …</div>
                <p class="modal-text">ãƒ»å…¥åŠ›ãƒ‡ãƒ¼ã‚¿ã¯ã‚µãƒ¼ãƒãƒ¼ã«é€ä¿¡ã•ã‚Œãšã€ãŠä½¿ã„ã®ç«¯æœ«å†…ã§ã®ã¿å®‰å…¨ã«å‡¦ç†ã•ã‚Œã¾ã™ã€‚<br>ãƒ»ç”Ÿæˆã•ã‚ŒãŸå›ç­”ã¯ã€å¿…ãšå°‚é–€å®¶ã¨ã—ã¦ã®çŸ¥è¦‹ã«åŸºã¥ãæœ€çµ‚ç¢ºèªã‚’è¡Œã£ã¦ãã ã•ã„ã€‚<br>ãƒ»æ¥µã‚ã¦æ©Ÿå¯†æ€§ã®é«˜ã„å€‹äººæƒ…å ±ï¼ˆå…·ä½“çš„ãªå£åº§ç•ªå·ç­‰ï¼‰ã¯ã€å…¥åŠ›å‰ã«ã‚ã‚‹ç¨‹åº¦ä¼ã›ã‚‹ã“ã¨ã‚’æ¨å¥¨ã—ã¾ã™ã€‚</p>
            </div>
        </div>
    </div>

    <!-- è¨­å®šãƒ¢ãƒ¼ãƒ€ãƒ« -->
    <div id="settings-modal" class="modal-overlay">
        <div class="modal-content">
            <button class="modal-close" onclick="app.closeModal('settings-modal')">Ã—</button>
            <div class="modal-title">è¨­å®š</div>
            
            <div class="settings-row">
                <label>è‰²åˆã„ï¼ˆãƒ†ãƒ¼ãƒï¼‰</label>
                <select id="theme-select" class="theme-select" onchange="app.changeTheme(this.value)">
                    <option value="auto">ç«¯æœ«ã®è¨­å®šã«åˆã‚ã›ã‚‹</option>
                    <option value="light">ãƒ©ã‚¤ãƒˆãƒ¢ãƒ¼ãƒ‰</option>
                    <option value="dark">ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰</option>
                </select>
            </div>
            
            <!-- NGãƒ¯ãƒ¼ãƒ‰è¨­å®šã‚’è¿½åŠ  -->
            <div class="settings-row">
                <label>NGãƒ¯ãƒ¼ãƒ‰è¨­å®š</label>
                <textarea id="ng-words-input" class="settings-textarea" placeholder="ä¾‹ï¼šç¤¾å¤–ç§˜, ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆAlpha, ç›¸æ‰‹æ–¹æ°å, æ ªå¼ä¼šç¤¾â—â—, ãƒã‚¤ãƒŠãƒ³ãƒãƒ¼, æ¥µç§˜" onchange="app.saveNgWords()"></textarea>
                <p class="settings-note">â€»æŒ‡å®šã—ãŸå˜èªãŒå«ã¾ã‚Œã‚‹ã¨å…¥åŠ›ç”»é¢ã§è­¦å‘ŠãŒè¡¨ç¤ºã•ã‚Œã¾ã™ï¼ˆã‚«ãƒ³ãƒåŒºåˆ‡ã‚Šã§è¤‡æ•°æŒ‡å®šå¯ï¼‰ã€‚</p>
            </div>

            <div class="demo-area">
                <span class="demo-label">ãƒ‡ãƒ¢ãƒ»å‹•ä½œç¢ºèªç”¨</span>
                <button class="btn-demo" onclick="app.loadDemoData()">ãƒ‡ãƒ¢ãƒ‡ãƒ¼ã‚¿å…¥åŠ›</button>
                <button class="btn-demo" onclick="app.clearDemoData()">ãƒ‡ãƒ¢ãƒ‡ãƒ¼ã‚¿ã‚¯ãƒªã‚¢</button>
            </div>
        </div>
    </div>

    <script>
        const app = {
            currentScene: null,
            ngWords: [], // NGãƒ¯ãƒ¼ãƒ‰ãƒªã‚¹ãƒˆ

            scenes: {
                'A': { 
                    title: 'ãƒ’ã‚¢ãƒªãƒ³ã‚°æ•´ç†', 
                    hasOpt: false,
                    placeholder: "ï¼ˆä¾‹ï¼‰\næ—¥æ™‚ï¼šä»¤å’Œ6å¹´5æœˆ10æ—¥\nç›¸è«‡è€…ï¼šå»ºè¨­ä¼šç¤¾Aç¤¾é•·\n\nã€å†…å®¹ã€‘\nå»ºè¨­æ¥­è¨±å¯ã‚’å–ã‚ŠãŸã„ã¨è¨€ã£ã¦ã„ã‚‹ã€‚\nå€‹äººäº‹æ¥­ä¸»ã¨ã—ã¦10å¹´ã®çµŒé¨“ãŒã‚ã‚‹ã‚‰ã—ã„ã€‚\nç¢ºå®šç”³å‘Šæ›¸ã¯ã‚ã‚‹ãŒã€æœ€åˆã®2å¹´åˆ†ãŒè¦‹å½“ãŸã‚‰ãªã„ã€‚\nè³‡é‡‘ã¯500ä¸‡å††ã®æ®‹é«˜è¨¼æ˜ãŒå–ã‚Œãã†ã€‚\nå½¹å“¡ã«æ¬ æ ¼è¦ä»¶ã«è©²å½“ã—ãã†ãªäººã¯ã„ãªã„ã¨ã®ã“ã¨ã€‚\nå°‚ä»»æŠ€è¡“è€…ã®è³‡æ ¼è¨¼ãŒè¦‹ã¤ã‹ã‚‰ãªã„ã‹ã‚‚ã€‚\n..." 
                },
                'B': { 
                    title: 'æ›¸é¢æ§‹æˆ', 
                    hasOpt: true, 
                    optId: 'opt-B',
                    placeholder: "ï¼ˆä¾‹ï¼‰\nã€æ¡ˆä»¶æ¦‚è¦ã€‘\nåœ¨ç•™è³‡æ ¼ã€ŒæŠ€è¡“ãƒ»äººæ–‡çŸ¥è­˜ãƒ»å›½éš›æ¥­å‹™ã€ã®æ›´æ–°ç”³è«‹ã€‚\nå‰å›ã®ç”³è«‹æ™‚ã‹ã‚‰è»¢è·ã—ã¦ã„ã‚‹ã€‚\næ–°ã—ã„ä¼šç¤¾ã¯è¨­ç«‹ã—ãŸã°ã‹ã‚Šã®ITãƒ™ãƒ³ãƒãƒ£ãƒ¼ã€‚\næœ¬äººã®æ¥­å‹™å†…å®¹ã¯ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã ãŒã€ä¼šç¤¾ã®äº‹æ¥­è¨ˆç”»ãŒã¾ã ä¸å®‰å®šã€‚\n\nå…¥ç®¡ã«å¯¾ã—ã¦ã€ä¼šç¤¾ã®å®‰å®šæ€§ã¨æœ¬äººã®æ¥­å‹™å†…å®¹ã®çœŸæ­£æ€§ã‚’èª¬æ˜ã™ã‚‹ç†ç”±æ›¸ã‚’ä½œæˆã—ãŸã„ã€‚" 
                },
                'C': { 
                    title: 'ä¾é ¼è€…èª¬æ˜', 
                    hasOpt: true, 
                    optId: 'opt-C',
                    placeholder: "ï¼ˆä¾‹ï¼‰\nã€èª¬æ˜ã—ãŸã„å†…å®¹ã€‘\nè¾²åœ°è»¢ç”¨è¨±å¯ã®ã€Œ5æ¡ç”³è«‹ã€ã«ã¤ã„ã¦ã€‚\n\nã€è©³ç´°ã€‘\nè¾²åœ°ã‚’è¾²åœ°ä»¥å¤–ã®ã‚‚ã®ã«ã™ã‚‹ãŸã‚ã«ã€æ¨©åˆ©ç§»å‹•ï¼ˆå£²è²·ãªã©ï¼‰ã‚’ä¼´ã†å ´åˆã®æ‰‹ç¶šãã€‚\nè¾²æ¥­å§”å“¡ä¼šã®è¨±å¯ãŒå¿…è¦ã€‚\nç”³è«‹ã‹ã‚‰è¨±å¯ã¾ã§1ã€œ2ãƒ¶æœˆã‹ã‹ã‚‹ã“ã¨ã€‚\nç· åˆ‡æ—¥ãŒæ¯æœˆæ±ºã¾ã£ã¦ã„ã‚‹ã“ã¨ã€‚\nã“ã‚Œã‚’åœ°ä¸»ã•ã‚“ã¨è²·ä¸»ã•ã‚“ã«åˆ†ã‹ã‚Šã‚„ã™ãä¼ãˆãŸã„ã€‚" 
                },
                'D': { 
                    title: 'åŒ¿ååŒ–', 
                    hasOpt: true, 
                    optId: 'opt-D',
                    placeholder: "ï¼ˆä¾‹ï¼‰\nä»¤å’Œ5å¹´10æœˆ1æ—¥ã€æ±äº¬éƒ½æ–°å®¿åŒºã®æ ªå¼ä¼šç¤¾ã‚µãƒ³ãƒ—ãƒ«ï¼ˆä»£è¡¨å–ç· å½¹ å±±ç”°å¤ªéƒï¼‰ã‚ˆã‚Šã€ç”£æ¥­å»ƒæ£„ç‰©åé›†é‹æ¬æ¥­ã®è¨±å¯ç”³è«‹ã‚’å—ä»»ã—ãŸã€‚\nå–ç· å½¹ã®éˆ´æœ¨ä¸€éƒæ°ã«æ¬ æ ¼äº‹ç”±ã®ç–‘ã„ãŒã‚ã£ãŸãŸã‚ã€è©³ç´°ã‚’èª¿æŸ»ã—ãŸã€‚" 
                }
            },

            init: function() {
                const savedTheme = localStorage.getItem('app_theme') || 'auto';
                document.getElementById('theme-select').value = savedTheme;
                this.changeTheme(savedTheme);
                
                // NGãƒ¯ãƒ¼ãƒ‰èª­ã¿è¾¼ã¿
                const savedNgWords = localStorage.getItem('app_ng_words') || '';
                document.getElementById('ng-words-input').value = savedNgWords;
                this.updateNgWordsList(savedNgWords);
            },
            
            // NGãƒ¯ãƒ¼ãƒ‰ä¿å­˜ãƒ»æ›´æ–°
            saveNgWords: function() {
                const input = document.getElementById('ng-words-input').value;
                localStorage.setItem('app_ng_words', input);
                this.updateNgWordsList(input);
                this.checkInput(); // å³åº§ã«ãƒã‚§ãƒƒã‚¯åæ˜ 
                this.showToast('è¨­å®šã‚’ä¿å­˜ã—ã¾ã—ãŸ');
            },
            
            updateNgWordsList: function(text) {
                // å…¨è§’åŠè§’ã‚«ãƒ³ãƒã§åˆ†å‰²ã€ç©ºç™½é™¤å»
                this.ngWords = text.split(/,|ã€/).map(w => w.trim()).filter(w => w.length > 0);
            },

            openScene: function(sceneId) {
                this.currentScene = sceneId;
                const scene = this.scenes[sceneId];
                document.getElementById('scene-title-text').innerText = scene.title;
                document.getElementById('user-input').placeholder = scene.placeholder;
                document.getElementById('home-view').style.display = 'none';
                document.getElementById('scene-view').style.display = 'flex';
                this.clearInput();
                document.querySelectorAll('.opt-group').forEach(el => el.style.display = 'none');
                if (scene.hasOpt) {
                    document.getElementById(scene.optId).style.display = 'block';
                }
                window.scrollTo(0, 0);
            },

            goHome: function() {
                document.getElementById('scene-view').style.display = 'none';
                document.getElementById('home-view').style.display = 'flex';
                this.currentScene = null;
            },

            openUsage: function() { document.getElementById('usage-modal').classList.add('open'); },
            openSettings: function() { document.getElementById('settings-modal').classList.add('open'); },
            closeModal: function(id) { document.getElementById(id).classList.remove('open'); },

            changeTheme: function(theme) {
                localStorage.setItem('app_theme', theme);
                const root = document.documentElement;
                if (theme === 'auto') root.removeAttribute('data-theme');
                else root.setAttribute('data-theme', theme);
            },

            loadDemoData: function() {
                let targetScene = this.currentScene;
                if (!targetScene) {
                    this.openScene('A');
                    targetScene = 'A';
                    this.closeModal('settings-modal');
                } else {
                    this.closeModal('settings-modal');
                }
                const demoText = this.scenes[targetScene].placeholder.replace('ï¼ˆä¾‹ï¼‰\n', '');
                const input = document.getElementById('user-input');
                input.value = demoText;
                this.checkInput();
                this.showToast('ãƒ‡ãƒ¢ãƒ‡ãƒ¼ã‚¿ã‚’å…¥åŠ›ã—ã¾ã—ãŸ');
            },

            clearDemoData: function() {
                this.clearInput();
                this.closeModal('settings-modal');
                this.showToast('å…¥åŠ›ã‚’ã‚¯ãƒªã‚¢ã—ã¾ã—ãŸ');
            },

            checkInput: function() {
                const text = document.getElementById('user-input').value;
                const warningBox = document.getElementById('warning-box');
                const warningMsg = document.getElementById('warning-msg');
                
                // æ–‡å­—æ•°ã‚«ã‚¦ãƒ³ãƒˆæ›´æ–°
                const count = text.length;
                document.getElementById('char-count').innerText = `${count}æ–‡å­—`;
                
                // 1. å€‹äººæƒ…å ±ãƒã‚§ãƒƒã‚¯ (æ—¢å­˜)
                const piiRegex = /\d{2,4}-\d{2,4}-\d{4}|\d{3}-\d{4}/;
                const hasPii = piiRegex.test(text);
                
                // 2. NGãƒ¯ãƒ¼ãƒ‰ãƒã‚§ãƒƒã‚¯ (æ–°è¦)
                const hitNgWords = this.ngWords.filter(word => text.includes(word));
                const hasNg = hitNgWords.length > 0;

                if (hasPii || hasNg) {
                    warningBox.style.display = 'flex';
                    let msgHTML = '';
                    
                    if (hasNg) {
                         msgHTML += `<div style="margin-bottom:8px;"><strong>NGãƒ¯ãƒ¼ãƒ‰ãŒå«ã¾ã‚Œã¦ã„ã¾ã™</strong><br>æ¤œçŸ¥: ${hitNgWords.join(', ')}</div>`;
                    }
                    if (hasPii) {
                         msgHTML += `<div><strong>å€‹äººæƒ…å ±ã®å¯èƒ½æ€§ã‚ã‚Š</strong><br>é›»è©±ç•ªå·ã‚„ä½æ‰€ã®ã‚ˆã†ãªæƒ…å ±ãŒå«ã¾ã‚Œã¦ã„ã¾ã™ã€‚</div>`;
                    }
                    
                    warningMsg.innerHTML = msgHTML;
                } else {
                    warningBox.style.display = 'none';
                    warningMsg.innerHTML = '';
                }
            },

            clearInput: function() {
                document.getElementById('user-input').value = '';
                document.getElementById('result-area').style.display = 'none';
                document.getElementById('warning-box').style.display = 'none';
                document.getElementById('char-count').innerText = '0æ–‡å­—';
            },

            generate: function() {
                const input = document.getElementById('user-input').value;
                if (!input.trim()) {
                    this.showToast('ãƒ†ã‚­ã‚¹ãƒˆã‚’å…¥åŠ›ã—ã¦ãã ã•ã„');
                    return;
                }
                
                const scene = this.currentScene;
                
                // å…±é€šã®ã‚·ã‚¹ãƒ†ãƒ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆå®šç¾©ï¼ˆæ›´æ–°ï¼‰
                const systemPrompt = `ã‚ãªãŸã¯ã€Œè¡Œæ”¿æ›¸å£«å®Ÿå‹™ã«ç‰¹åŒ–ã—ãŸèª¿æŸ»ãƒ»æ•´ç†ãƒ»æ§‹é€ åŒ–AIã€ã§ã™ã€‚

ä»¥ä¸‹ã®æ¡ä»¶ã‚’å¿…ãšå®ˆã£ã¦ãã ã•ã„ã€‚

ã€å‰æãƒ«ãƒ¼ãƒ«ã€‘
ãƒ»ç§ã¯è¡Œæ”¿æ›¸å£«ã§ã™
ãƒ»ç”³è«‹æ›¸ã€ç†ç”±æ›¸ã€æ·»ä»˜æ›¸é¡ã€ä¾é ¼è€…èª¬æ˜ãŒä¸»æ¥­å‹™ã§ã™
ãƒ»æ³•å¾‹åˆ¤æ–­ã‚„æœ€çµ‚è²¬ä»»ã¯äººé–“ãŒè¡Œã†å‰æã§ã€ä¸‹æ›¸ããƒ»æ•´ç†ãƒ»æ§‹æˆã®ã¿æ”¯æ´ã—ã¦ãã ã•ã„
ãƒ»æ¡æ–‡ãƒ»åˆ¶åº¦ã«è§¦ã‚Œã‚‹å ´åˆã¯ã€å¿…ãšå‡ºå…¸ã‚„æ ¹æ‹ ç¢ºèªãŒå¿…è¦ãªç®‡æ‰€ã‚’æ˜ç¤ºã—ã¦ãã ã•ã„

ã€å…±é€šã‚´ãƒ¼ãƒ«ã€‘
ãƒ»è€ƒãˆãªãã¦ã‚‚ä½¿ãˆã‚‹
ãƒ»ãã®ã¾ã¾ã‚³ãƒ”ãƒšã—ã¦å®Ÿå‹™ã«ä½¿ãˆã‚‹
ãƒ»ä¾é ¼è€…ã«èª¬æ˜ã—ã‚„ã™ã„

ã€é‡è¦ï¼šã‚°ãƒ¬ãƒ¼ã‚¾ãƒ¼ãƒ³ã®æ‰±ã„æ–¹ã€‘
åˆ¤æ–­ãŒåˆ†ã‹ã‚Œã‚„ã™ã„ç‚¹ã€å®Ÿå‹™ã§æ‰ã‚ã‚„ã™ã„ç‚¹ã«ã¤ã„ã¦ã¯ä»¥ä¸‹ã®æ›¸ãæ–¹ã‚’å¾¹åº•ã—ã¦ãã ã•ã„ã€‚
ãƒ»ã€Œä¸€èˆ¬çš„ã«ã¯ã€œã¨ã•ã‚Œã‚‹ã€
ãƒ»ã€Œå®Ÿå‹™ä¸Šã¯ã€‡ã€‡ãŒæ±‚ã‚ã‚‰ã‚Œã‚‹ã“ã¨ãŒå¤šã„ã€
ãƒ»ã€Œæœ€çµ‚åˆ¤æ–­ã¯è¡Œæ”¿åºã«å§”ã­ã‚‰ã‚Œã‚‹ã€
â€»æ–­å®šãƒ»ä¿è¨¼ãƒ»æˆåŠŸå‰æã®è¡¨ç¾ã¯ç¦æ­¢ã§ã™ã€‚

ã€é‡è¦ï¼šæœ€çµ‚ç¢ºèªã€‘
å‡ºåŠ›ç”Ÿæˆå¾Œã€ä»¥ä¸‹ã®è¦³ç‚¹ã§è‡ªå·±ãƒã‚§ãƒƒã‚¯ã‚’è¡Œã„ã€å•é¡ŒãŒã‚ã‚Œã°ä¿®æ­£ã—ãŸä¸Šã§å‡ºåŠ›ã—ã¦ãã ã•ã„ã€‚
ãƒ»è¡Œæ”¿æ›¸å£«ãŒãã®ã¾ã¾ã‚³ãƒ”ãƒšã§ãã‚‹ã‹
ãƒ»ä¾é ¼è€…ã«è¦‹ã›ã¦ã‚‚é•å’Œæ„ŸãŒãªã„ã‹
ãƒ»å®ˆç§˜ç¾©å‹™çš„ã«å±ãªã„è¡¨ç¾ãŒæ®‹ã£ã¦ã„ãªã„ã‹`;

                let specificInstruction = '';

                if (scene === 'A') {
                    // ã‚·ãƒ¼ãƒ³Aï¼šãƒ’ã‚¢ãƒªãƒ³ã‚°æ•´ç†
                    specificInstruction = `â–¼ ã‚·ãƒ¼ãƒ³Aï¼šæ‰“ã¡åˆã‚ã›æ•´ç†ï¼ˆãƒ’ã‚¢ãƒªãƒ³ã‚°æ•´ç†ï¼‰

ä»¥ä¸‹ã®ãƒ’ã‚¢ãƒªãƒ³ã‚°ãƒ¡ãƒ¢ã‚’ã€è¡Œæ”¿æ›¸å£«å®Ÿå‹™å‘ã‘ã«æ•´ç†ã—ã¦ãã ã•ã„ã€‚

ã€å‡ºåŠ›æ§‹æˆã€‘
1. åˆ©ç”¨ã‚·ãƒ¼ãƒ³ã®æ˜ç¤º
   å†’é ­ã«ã€Œã“ã®å‡ºåŠ›ã¯[ç”³è«‹å‰ã®å—ä»»åˆ¤æ–­/ç”³è«‹æº–å‚™ä¸­/è¡Œæ”¿åºã¸ã®èª¬æ˜/ä¾é ¼è€…ã¸ã®èª¬æ˜]ã®å ´é¢ã§ä½¿ãˆã¾ã™ã€ã¨æ˜è¨˜ã€‚

2. ä¾é ¼å†…å®¹ã®è¦ç´„ï¼ˆ3ã€œ5è¡Œï¼‰

3. æ•´ç†äº‹é …
   ãƒ»ç”³è«‹ãƒ»æ‰‹ç¶šãã®ç›®çš„
   ãƒ»ç¾æ™‚ç‚¹ã§åˆ†ã‹ã£ã¦ã„ã‚‹äº‹å®Ÿ
   ãƒ»ä¸è¶³ã—ã¦ã„ã‚‹æƒ…å ±ãƒ»è¿½åŠ ã§ç¢ºèªã™ã¹ãäº‹é …
   
4. ã€é‡è¦ã€‘å°‚é–€å®¶ã¨ã—ã¦ã®ç•™æ„ç‚¹
   ãƒ»å—ä»»ãƒªã‚¹ã‚¯ï¼ˆä½ã„ã‹/æ³¨æ„ãŒå¿…è¦ã‹ï¼‰
   ãƒ»è£œæ­£ãŒå…¥ã‚Šã‚„ã™ã„ãƒã‚¤ãƒ³ãƒˆ
   ãƒ»åˆå›ç›¸è«‡æ™‚ç‚¹ã§ã®é•å’Œæ„Ÿãƒ»ç¢ºèªæ¨å¥¨ç‚¹
   â€»å¦å®šçš„ãªæ–­å®šã¯ã›ãšã€Œæ³¨æ„ç‚¹ã€ã€Œç•™æ„ç‚¹ã€ã¨ã—ã¦è¨˜è¼‰ã€‚

5. ä»Šå¾Œã®é€²ã‚æ–¹ï¼ˆä¾é ¼è€…ã«ä¼ãˆã‚‹ç”¨ï¼‰

6. æ¬¡ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³å€™è£œï¼ˆç®‡æ¡æ›¸ãï¼‰
   ãƒ»ä¾é ¼è€…ã«ç¢ºèªã™ã¹ãäº‹é …
   ãƒ»æ¬¡å›é¢è«‡ã¾ã§ã«æº–å‚™ã™ã‚‹ã‚‚ã®
   ãƒ»å½¹æ‰€ã«äº‹å‰ç›¸è«‡ã™ã¹ããƒã‚¤ãƒ³ãƒˆãªã©

å°‚é–€ç”¨èªã¯æœ€å°é™ã«ã—ã€ãã®ã¾ã¾ä¾é ¼è€…ã«ãƒ¡ãƒ¼ãƒ«ã§é€ã‚Œã‚‹æ–‡ç« ãƒˆãƒ¼ãƒ³ã§ã¾ã¨ã‚ã¦ãã ã•ã„ã€‚

ã€ãƒ’ã‚¢ãƒªãƒ³ã‚°ãƒ¡ãƒ¢ã€‘
${input}`;
                } 
                else if (scene === 'B') {
                    // ã‚·ãƒ¼ãƒ³Bï¼šæ›¸é¢æ§‹æˆï¼ˆç”³è«‹æ›¸ãƒ»ç†ç”±æ›¸ï¼‰
                    const purpose = document.getElementById('select-B').value;
                    specificInstruction = `â–¼ ã‚·ãƒ¼ãƒ³Bï¼šæ›¸é¢æ§‹æˆï¼ˆç”³è«‹æ›¸ãƒ»ç†ç”±æ›¸ï¼‰

ä»¥ä¸‹ã®æ¡ˆä»¶ã«ã¤ã„ã¦ã€è¡Œæ”¿æ›¸å£«ãŒä½œæˆã™ã‚‹æ›¸é¢ã®ã€Œæ§‹æˆæ¡ˆã€ã‚’ä½œã£ã¦ãã ã•ã„ã€‚
ï¼ˆä½œæˆã®ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆ: ${purpose}ï¼‰

ã€å‡ºåŠ›æ§‹æˆã€‘
1. åˆ©ç”¨ã‚·ãƒ¼ãƒ³ã®æ˜ç¤º
   å†’é ­ã«ã€Œã“ã®å‡ºåŠ›ã¯[ç”³è«‹å‰ã®å—ä»»åˆ¤æ–­/ç”³è«‹æº–å‚™ä¸­/è¡Œæ”¿åºã¸ã®èª¬æ˜/ä¾é ¼è€…ã¸ã®èª¬æ˜]ã®å ´é¢ã§ä½¿ãˆã¾ã™ã€ã¨æ˜è¨˜ã€‚

2. æ›¸é¢å…¨ä½“ã®æ§‹æˆï¼ˆè¦‹å‡ºã—ãƒ¬ãƒ™ãƒ«ï¼‰

3. å„è¦‹å‡ºã—ã®è©³ç´°
   ãƒ»ä½•ã‚’æ›¸ãã¹ãã‹ã®è¦ç‚¹
   ãƒ»è¡Œæ”¿åºãŒâ€œè¦‹ã¦ã„ã‚‹ãƒã‚¤ãƒ³ãƒˆâ€
   ãƒ»ç†ç”±æ›¸ã§å¼·èª¿ã™ã¹ãäº‹å®Ÿé–¢ä¿‚

4. å½¢å¼è¦ä»¶ã¨å®Ÿè³ªè¦ä»¶ã®åˆ‡ã‚Šåˆ†ã‘
   ãƒ»å¿…é ˆé …ç›®ã¨ã€è£é‡ã«é–¢ã‚ã‚‹è£œå¼·é …ç›®ã®åŒºåˆ¥

5. æ§‹æˆã®æ„å›³
   ãƒ»ãªãœã“ã®é †ç•ªã§æ›¸ãã®ã‹ã®èª¬æ˜

6. æ¬¡ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³å€™è£œï¼ˆç®‡æ¡æ›¸ãï¼‰
   ãƒ»è£ä»˜ã‘è³‡æ–™ã¨ã—ã¦é›†ã‚ã‚‹ã¹ãã‚‚ã®
   ãƒ»ä¾é ¼è€…ã«è¿½åŠ ãƒ’ã‚¢ãƒªãƒ³ã‚°ã™ã¹ãç‚¹

æ³•å¾‹æ–‡ç« ã‚’æ›¸ãåˆ‡ã‚‹ã®ã§ã¯ãªãã€Œä½•ã‚’æ›¸ãã¹ãã‹ãŒä¸€ç›®ã§åˆ†ã‹ã‚‹æ§‹æˆã€ã«ã—ã¦ãã ã•ã„ã€‚

ã€æ¡ˆä»¶æ¦‚è¦ã€‘
${input}`;
                } 
                else if (scene === 'C') {
                    // ã‚·ãƒ¼ãƒ³Cï¼šä¾é ¼è€…èª¬æ˜ï¼ˆã‚„ã•ã—ã„èª¬æ˜æ–‡ï¼‰
                    const length = document.getElementById('select-C').value;
                    specificInstruction = `â–¼ ã‚·ãƒ¼ãƒ³Cï¼šä¾é ¼è€…èª¬æ˜ï¼ˆã‚„ã•ã—ã„èª¬æ˜æ–‡ï¼‰

ä»¥ä¸‹ã®å†…å®¹ã‚’ã€è¡Œæ”¿æ›¸å£«ã¨ã—ã¦å°‚é–€çŸ¥è­˜ã®ãªã„ä¾é ¼è€…ã«ã‚‚åˆ†ã‹ã‚‹ã‚ˆã†ã«èª¬æ˜ã—ã¦ãã ã•ã„ã€‚
ï¼ˆæ–‡ç« ã®é•·ã•ãƒ»é›°å›²æ°—: ${length}ï¼‰

ã€å‡ºåŠ›æ§‹æˆã€‘
1. åˆ©ç”¨ã‚·ãƒ¼ãƒ³ã®æ˜ç¤º
   å†’é ­ã«ã€Œã“ã®å‡ºåŠ›ã¯[ç”³è«‹å‰ã®å—ä»»åˆ¤æ–­/ç”³è«‹æº–å‚™ä¸­/è¡Œæ”¿åºã¸ã®èª¬æ˜/ä¾é ¼è€…ã¸ã®èª¬æ˜]ã®å ´é¢ã§ä½¿ãˆã¾ã™ã€ã¨æ˜è¨˜ã€‚

2. ä»Šå›ã®æ‰‹ç¶šãã¯ä½•ã‚’ã™ã‚‹ã‚‚ã®ã‹

3. ãªãœã“ã®æ‰‹ç¶šããŒå¿…è¦ã‹

4. å®‰å¿ƒææ–™ã®æç¤º
   ãƒ»ã€Œä¸è¨±å¯ï¼å³ãƒ€ãƒ¡ã§ã¯ãªã„ã€ç­‰ã®å®‰å¿ƒè¦ç´ 
   ãƒ»æ™‚é–“ãŒã‹ã‹ã‚‹ç†ç”±ï¼ˆã‚ã‚‹å ´åˆï¼‰
   ãƒ»è¡Œæ”¿æ›¸å£«ãŒé–“ã«å…¥ã‚‹ã“ã¨ã®æ„å‘³

5. ä¾é ¼è€…ã«ãŠé¡˜ã„ã—ãŸã„ã“ã¨

6. ä»Šå¾Œã®æµã‚Œ

7. æ¬¡ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³å€™è£œï¼ˆç®‡æ¡æ›¸ãï¼‰
   ãƒ»ä¾é ¼è€…ã«ã¾ãšç€æ‰‹ã—ã¦ã‚‚ã‚‰ã†ã“ã¨

æ¡ä»¶ï¼š
ãƒ»å°‚é–€ç”¨èªã¯ä½¿ã‚ãªã„ã€ã¾ãŸã¯å¿…ãšè¨€ã„æ›ãˆã‚‹
ãƒ»å–¶æ¥­è‰²ã¯å‡ºã•ãšã€ä¿¡é ¼å½¢æˆã‚’ç›®çš„ã¨ã™ã‚‹
ãƒ»ã€Œä½•ã‚’ã™ã‚Œã°ã„ã„ã‹ã€ãŒåˆ†ã‹ã‚‹æ§‹æˆ

ã€èª¬æ˜ã—ãŸã„å†…å®¹ã€‘
${input}`;
                } 
                else if (scene === 'D') {
                    // ã‚·ãƒ¼ãƒ³Dï¼šåŒ¿ååŒ–ï¼ˆäº‹ä¾‹å…±æœ‰ãƒ»SNSãƒ»è³‡æ–™ç”¨ï¼‰
                    const level = document.getElementById('select-D').value;
                    let levelNote = "";
                    if(level === 'ä½') levelNote = "ï¼ˆãƒ¬ãƒ™ãƒ«ä½ï¼šå€‹äººåã®ã¿ç½®æ›ï¼‰";
                    else if(level === 'ä¸­') levelNote = "ï¼ˆãƒ¬ãƒ™ãƒ«ä¸­ï¼šåœ°åãƒ»æ—¥æ™‚ã‚‚å«ã‚ã¦ä¸€èˆ¬åŒ–ï¼‰";
                    else if(level === 'é«˜') levelNote = "ï¼ˆãƒ¬ãƒ™ãƒ«é«˜ï¼šç‰¹å®šã•ã‚Œã†ã‚‹å½¹è·ã‚„èƒŒæ™¯ã‚‚æŠ½è±¡åŒ–ï¼‰";

                    specificInstruction = `â–¼ ã‚·ãƒ¼ãƒ³Dï¼šåŒ¿ååŒ–ï¼ˆäº‹ä¾‹å…±æœ‰ãƒ»SNSãƒ»è³‡æ–™ç”¨ï¼‰

ä»¥ä¸‹ã®æ–‡ç« ã‚’ã€è¡Œæ”¿æ›¸å£«ã®äº‹ä¾‹ç´¹ä»‹ã¨ã—ã¦ä½¿ãˆã‚‹ã‚ˆã†åŒ¿ååŒ–ã—ã¦ãã ã•ã„ã€‚
${levelNote}
æƒ³å®šç”¨é€”ï¼šäº‹å‹™æ‰€å†…å…±æœ‰ã€æ–°äººæ•™è‚²ã€SNSã‚„ãƒ–ãƒ­ã‚°ã§ã®å®Ÿå‹™ç´¹ä»‹

ã€å‡ºåŠ›æ§‹æˆã€‘
1. åˆ©ç”¨ã‚·ãƒ¼ãƒ³ã®æ˜ç¤º
   å†’é ­ã«ã€Œã“ã®å‡ºåŠ›ã¯[äº‹ä¾‹å…±æœ‰/æ–°äººæ•™è‚²/åºƒå ±]ã®å ´é¢ã§ä½¿ãˆã¾ã™ã€ã¨æ˜è¨˜ã€‚

2. åŒ¿ååŒ–å¾Œã®æ–‡ç« 

3. å­¦ã³ãƒã‚¤ãƒ³ãƒˆï¼ˆæœ«å°¾ã«1è¡Œè¿½åŠ ï¼‰
   ä¾‹ï¼šã€Œã“ã®äº‹ä¾‹ã‹ã‚‰å­¦ã¹ã‚‹ç‚¹ï¼šã€œã€ã€Œå®Ÿå‹™ä¸Šã®æ³¨æ„ç‚¹ï¼šã€œã€

æ¡ä»¶ï¼š
ãƒ»å€‹äººåã€æ³•äººåã€åœ°åŸŸã€æ—¥æ™‚ã€é‡‘é¡ãªã©ã¯æŠ½è±¡åŒ–
ãƒ»æ¥­ç¨®ãƒ»çŠ¶æ³ã¯ã¼ã‹ã—ã™ããšã€å­¦ã³ãŒæ®‹ã‚‹å½¢ã«
ãƒ»å®ˆç§˜ç¾©å‹™ã‚’æœ€å„ªå…ˆ

ã€å…ƒã®æ–‡ç« ã€‘
${input}`;
                }

                // æœ€çµ‚çš„ãªãƒ—ãƒ­ãƒ³ãƒ—ãƒˆçµåˆ
                const finalPrompt = `${systemPrompt}
ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼ãƒ¼
${specificInstruction}`;

                document.getElementById('result-text').textContent = finalPrompt;
                document.getElementById('result-area').style.display = 'block';
                // çµæœè¡¨ç¤ºå¾Œã«ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«
                setTimeout(() => { document.getElementById('result-area').scrollIntoView({ behavior: 'smooth' }); }, 100);
                
                // ã‚³ãƒ”ãƒ¼ãƒœã‚¿ãƒ³ã®ãƒ†ã‚­ã‚¹ãƒˆã‚’ãƒªã‚»ãƒƒãƒˆ
                const copyBtn = document.getElementById('copy-btn');
                if(copyBtn) {
                    copyBtn.textContent = 'ã‚³ãƒ”ãƒ¼ã™ã‚‹';
                    copyBtn.classList.remove('btn-primary');
                    copyBtn.classList.add('btn-secondary');
                }
            },

            copyResult: function() {
                const text = document.getElementById('result-text').textContent;
                this.performCopy(text);
            },
            
            // é­”æ³•ã®ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”¨ã‚³ãƒ”ãƒ¼é–¢æ•°
            copyText: function(buttonElement) {
                // ãƒœã‚¿ãƒ³ã®å‰ã®è¦ç´ ï¼ˆ.prompt-contentï¼‰ã®ãƒ†ã‚­ã‚¹ãƒˆã‚’å–å¾—
                const text = buttonElement.previousElementSibling.textContent;
                this.performCopy(text, buttonElement);
            },

            performCopy: function(text, btnElement = null) {
                if (!text) return;
                
                const onCopySuccess = () => {
                    this.showToast('ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸ');
                    
                    // ãƒœã‚¿ãƒ³ã®è¦‹ãŸç›®ã‚’ä¸€æ™‚çš„ã«å¤‰æ›´ï¼ˆãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ï¼‰
                    const targetBtn = btnElement || document.getElementById('copy-btn');
                    if (targetBtn) {
                        const originalText = targetBtn.textContent;
                        targetBtn.textContent = 'ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸâœ¨';
                        
                        setTimeout(() => {
                            targetBtn.textContent = originalText;
                        }, 2000);
                    }
                };

                if (navigator.clipboard && navigator.clipboard.writeText) {
                    navigator.clipboard.writeText(text).then(onCopySuccess).catch(err => {
                        this.fallbackCopy(text);
                    });
                } else {
                    this.fallbackCopy(text);
                }
            },
            
            fallbackCopy: function(text) {
                try {
                    const textArea = document.createElement("textarea");
                    textArea.value = text;
                    document.body.appendChild(textArea);
                    textArea.select();
                    document.execCommand('copy');
                    document.body.removeChild(textArea);
                    this.showToast('ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸ');
                } catch (err) {
                    this.showToast('ã‚³ãƒ”ãƒ¼ã§ãã¾ã›ã‚“ã§ã—ãŸ');
                }
            },

            showToast: function(message) {
                const toast = document.getElementById('toast');
                toast.textContent = message;
                toast.className = 'show';
                setTimeout(() => { toast.className = toast.className.replace('show', ''); }, 3000);
            }
        };

        app.init();
    </script>
</body>
</html>